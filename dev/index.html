<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PosixChannels.jl · PosixChannels</title><meta name="title" content="PosixChannels.jl · PosixChannels"/><meta property="og:title" content="PosixChannels.jl · PosixChannels"/><meta property="twitter:title" content="PosixChannels.jl · PosixChannels"/><meta name="description" content="Documentation for PosixChannels."/><meta property="og:description" content="Documentation for PosixChannels."/><meta property="twitter:description" content="Documentation for PosixChannels."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>PosixChannels</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>PosixChannels.jl</a><ul class="internal"><li><a class="tocitem" href="#Table-of-contents"><span>Table of contents</span></a></li><li><a class="tocitem" href="#Public-API"><span>Public API</span></a></li><li><a class="tocitem" href="#Internal-API"><span>Internal API</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>PosixChannels.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>PosixChannels.jl</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Klafyvel/PosixChannels.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Klafyvel/PosixChannels.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="PosixChannels.jl"><a class="docs-heading-anchor" href="#PosixChannels.jl">PosixChannels.jl</a><a id="PosixChannels.jl-1"></a><a class="docs-heading-anchor-permalink" href="#PosixChannels.jl" title="Permalink"></a></h1><p>Documentation for PosixChannels.jl</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels" href="#PosixChannels"><code>PosixChannels</code></a> — <span class="docstring-category">Module</span></header><section><div><p>PosixChannels provides an <code>AbstractChannel</code>-compatible channel using POSIX message queues.</p><p>The high level API is available through <a href="#PosixChannels.PosixChannel"><code>PosixChannel</code></a>.</p><p>For more informations on POSIX message queues, see <a href="https://man7.org/linux/man-pages/man7/mq_overview.7.html"><code>man 7 mq_overview</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L1-L7">source</a></section></article><h2 id="Table-of-contents"><a class="docs-heading-anchor" href="#Table-of-contents">Table of contents</a><a id="Table-of-contents-1"></a><a class="docs-heading-anchor-permalink" href="#Table-of-contents" title="Permalink"></a></h2><ul><li><a href="#PosixChannels.jl">PosixChannels.jl</a></li><li class="no-marker"><ul><li><a href="#Table-of-contents">Table of contents</a></li><li><a href="#Public-API">Public API</a></li><li class="no-marker"><ul><li><a href="#PosixChannel">PosixChannel</a></li><li><a href="#AbstractChannel-interface">AbstractChannel interface</a></li><li><a href="#/proc-utilities"><code>/proc</code> utilities</a></li></ul></li><li><a href="#Internal-API">Internal API</a></li></ul></li></ul><h2 id="Public-API"><a class="docs-heading-anchor" href="#Public-API">Public API</a><a id="Public-API-1"></a><a class="docs-heading-anchor-permalink" href="#Public-API" title="Permalink"></a></h2><h3 id="PosixChannel"><a class="docs-heading-anchor" href="#PosixChannel">PosixChannel</a><a id="PosixChannel-1"></a><a class="docs-heading-anchor-permalink" href="#PosixChannel" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.PosixChannel" href="#PosixChannels.PosixChannel"><code>PosixChannels.PosixChannel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>An impementation of <code>AbstractChannel</code> that uses POSIX message queues.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L259-L261">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.PosixChannel-Tuple{String}" href="#PosixChannels.PosixChannel-Tuple{String}"><code>PosixChannels.PosixChannel</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PosixChannel{T}(name, kwargs...)</code></pre><p>Create a <code>PosixChannel</code> that works with messages of type <code>T</code>.</p><p><em>Notes</em>: <code>T</code> must be a plain data type (<code>isbitstype</code> must return <code>true</code>), and the message queue must allow for messages of at least <code>sizeof(T)</code>.</p><p><strong>Extended help</strong></p><p><strong>Arguments</strong></p><p>See <a href="https://man7.org/linux/man-pages/man3/mq_open.3.html"><code>man 3 mq_open</code></a> for details.</p><p><strong>All usages</strong></p><ul><li><code>mode::Symbol=:rw</code>: the opening mode of the POSIX queue, can be <code>:r</code>, <code>:w</code>, or <code>:rw</code>.</li><li><code>cloexec::Bool=false</code>: Activate the <code>O_CLOEXEC</code> flag.</li><li><code>create::Bool=true</code>: Activate the <code>O_CREAT</code> flag.</li><li><code>excl::Bool=false</code>: Activate the <code>O_CREAT</code> flag.</li><li><code>nonblock::Bool=false</code>: Activate the <code>O_NONBLOCK</code> flag.</li></ul><p><strong>Creation specifics</strong></p><p>When creating a new queue (flag <code>O_CREAT</code> activated), it is necessary to provide additional informations. </p><ul><li><p><code>create_r_user::Bool=true</code>: Make queue readable for user.</p></li><li><p><code>create_w_user::Bool=true</code>: Make queue writable for user.</p></li><li><p><code>create_r_group::Bool=true</code>: Make queue readable for the group of the user.</p></li><li><p><code>create_w_group::Bool=true</code>: Make queue writable for the group of the user.</p></li><li><p><code>create_r_other::Bool=false</code>: Make queue readable for other users.</p></li><li><p><code>create_w_other::Bool=false</code>: Make queue writable for other users.</p></li><li><p><code>create_len::Int=systemmsgdefault()</code>: Maximum number of messages in the queue.</p></li><li><p><code>create_msg_size::Int=sizeof(T)</code>: Maximum size of a message.</p></li></ul><p><strong>Examples</strong></p><p>Start two julia REPL (a sender and a receiver).</p><p><code>sender.jl</code>:</p><pre><code class="language-julia hljs">using PosixChannels

chan = PosixChannel{Int}(&quot;posix_channels_are_fun&quot;, mode=:w)
print(&quot;Press [Enter] when you are ready to send data.&quot;)
readline()

for i in 1:10
    put!(chan, i)
end

println(&quot;Done!&quot;)
println(&quot;Closing the channel.&quot;)
close(chan)
</code></pre><p><code>receiver.jl</code></p><pre><code class="language-julia hljs">using PosixChannels

chan = PosixChannel{Int}(&quot;posix_channels_are_fun&quot;, mode=:r)
println(&quot;Listening for 10 incoming Int, you may start sending&quot;)

for _ in 1:10
    while !isready(chan)
        wait(chan)
    end
    msg = take!(chan)
    println(&quot;Received $msg&quot;)
end

println(&quot;Done!&quot;)
println(&quot;Closing the channel.&quot;)
close(chan)
println(&quot;Deleting the channel.&quot;)
unlink(chan)</code></pre><p>You can then launch each script, and press return in the sender&#39;s window.</p><pre><code class="language-bash hljs">$ julia --project sender.jl
Press [Enter] when you are ready to send data.
Done!
Closing the channel.</code></pre><pre><code class="language-bash hljs">$ julia --project receiver.jl
Listening for 10 incoming Int, you may start sending
Received 1
Received 2
Received 3
Received 4
Received 5
Received 6
Received 7
Received 8
Received 9
Received 10
Done!
Closing the channel.
Deleting the channel.</code></pre><div class="admonition is-info"><header class="admonition-header">Types of messages</header><div class="admonition-body"><p>This example uses integers, but any type that verifies <code>isbitstype</code> could be used. See <a href="https://github.com/mkitti/StaticStrings.jl"><code>StaticStrings</code></a> for example.</p></div></div><p>See also <a href="#Base.wait-Tuple{PosixChannel}"><code>wait</code></a>, <a href="#Base.put!"><code>put!</code></a>, <a href="#Base.take!-Tuple{PosixChannel, Any}"><code>take!</code></a>, <a href="#PosixChannels.unlink"><code>unlink</code></a>, <a href="#PosixChannels.isnonblocking"><code>isnonblocking</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L267-L355">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.unlink" href="#PosixChannels.unlink"><code>PosixChannels.unlink</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">unlink(chan)</code></pre><p>POSIX messages queues are persistent. This allows destroying a queue.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L369-L373">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.isnonblocking" href="#PosixChannels.isnonblocking"><code>PosixChannels.isnonblocking</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">isnonblocking(chan)</code></pre><p>Checks the <code>O_NONBLOCK</code> flag of a PosixChannel.</p><p>See also <a href="#PosixChannels.mq_attr"><code>mq_attr</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L376-L382">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.length-Tuple{PosixChannel}" href="#Base.length-Tuple{PosixChannel}"><code>Base.length</code></a> — <span class="docstring-category">Method</span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L388">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.close-Tuple{PosixChannel}" href="#Base.close-Tuple{PosixChannel}"><code>Base.close</code></a> — <span class="docstring-category">Method</span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L366">source</a></section></article><h3 id="AbstractChannel-interface"><a class="docs-heading-anchor" href="#AbstractChannel-interface">AbstractChannel interface</a><a id="AbstractChannel-interface-1"></a><a class="docs-heading-anchor-permalink" href="#AbstractChannel-interface" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.put!" href="#Base.put!"><code>Base.put!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">put!(chan::PosixChannel, v[, prio=0])</code></pre><p>Add a message to a PosixChannel, with priority <code>prio</code>.</p><p>See <a href="https://man7.org/linux/man-pages/man3/mq_send.3.html"><code>man 3 mq_send</code></a> for details.</p><p>See also <a href="#PosixChannels.send_posix_mqueue"><code>send_posix_mqueue</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L464-L472">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.take!-Tuple{PosixChannel, Any}" href="#Base.take!-Tuple{PosixChannel, Any}"><code>Base.take!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">take!(chan::PosixChannel [, prio])</code></pre><p>Take a message from a PosixChannel. If a priority is set, the oldest message with priority <code>prio</code> is taken.</p><p>See <a href="https://man7.org/linux/man-pages/man3/mq_receive.3.html"><code>man 3 mq_receive</code></a> for details.</p><p>See also <a href="#PosixChannels.receive_posix_mqueue"><code>receive_posix_mqueue</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L479-L487">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.isready-Tuple{PosixChannel}" href="#Base.isready-Tuple{PosixChannel}"><code>Base.isready</code></a> — <span class="docstring-category">Method</span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L490">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.fetch-Tuple{PosixChannel}" href="#Base.fetch-Tuple{PosixChannel}"><code>Base.fetch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>You cannot <code>fetch</code> from a PosixChannel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L493-L495">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.wait-Tuple{PosixChannel}" href="#Base.wait-Tuple{PosixChannel}"><code>Base.wait</code></a> — <span class="docstring-category">Method</span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L498">source</a></section></article><h3 id="/proc-utilities"><a class="docs-heading-anchor" href="#/proc-utilities"><code>/proc</code> utilities</a><a id="/proc-utilities-1"></a><a class="docs-heading-anchor-permalink" href="#/proc-utilities" title="Permalink"></a></h3><p>The system-wide defaults for POSIX message queues can be set through a <code>/proc</code> interface. See <a href="https://man7.org/linux/man-pages/man7/mq_overview.7.html"><code>man 7 mq_overview</code></a> for details.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.systemmsgdefault" href="#PosixChannels.systemmsgdefault"><code>PosixChannels.systemmsgdefault</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">systemmsgdefault()</code></pre><p>Return the system&#39;s default number of messages in a message queue.</p><p>See also <a href="#PosixChannels.systemmsgdefault!"><code>systemmsgdefault!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L516-L522">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.systemmsgdefault!" href="#PosixChannels.systemmsgdefault!"><code>PosixChannels.systemmsgdefault!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">systemmsgdefault!(val)</code></pre><p>Set the system&#39;s default number of messages in a message queue.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Root privileges are likely needed.</p></div></div><p>See also <a href="#PosixChannels.systemmsgdefault"><code>systemmsgdefault</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L524-L533">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.systemmsgmax" href="#PosixChannels.systemmsgmax"><code>PosixChannels.systemmsgmax</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">systemmsgmax()</code></pre><p>Return the system&#39;s max number of messages in a message queue.</p><p>See also <a href="#PosixChannels.systemmsgmax!"><code>systemmsgmax!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L535-L541">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.systemmsgmax!" href="#PosixChannels.systemmsgmax!"><code>PosixChannels.systemmsgmax!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">systemmsgmax!(val)</code></pre><p>Set the system&#39;s max number of messages in a message queue.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Root privileges are likely needed.</p></div></div><p>See also <a href="#PosixChannels.systemmsgmax"><code>systemmsgmax</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L543-L552">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.systemmsgsizedefault" href="#PosixChannels.systemmsgsizedefault"><code>PosixChannels.systemmsgsizedefault</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">systemmsgsizedefault()</code></pre><p>Return the system&#39;s default size of messages in a message queue.</p><p>See also <a href="#PosixChannels.systemmsgdefault!"><code>systemmsgdefault!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L554-L560">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.systemmsgsizedefault!" href="#PosixChannels.systemmsgsizedefault!"><code>PosixChannels.systemmsgsizedefault!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">systemmsgsizedefault!(val)</code></pre><p>Set the system&#39;s default size of messages in a message queue.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Root privileges are likely needed.</p></div></div><p>See also <a href="#PosixChannels.systemmsgsizedefault"><code>systemmsgsizedefault</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L562-L571">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.systemmsgsizemax" href="#PosixChannels.systemmsgsizemax"><code>PosixChannels.systemmsgsizemax</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">systemmsgsizemax()</code></pre><p>Return the system&#39;s max size of messages in a message queue.</p><p>See also <a href="#PosixChannels.systemmsgsizemax!"><code>systemmsgsizemax!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L573-L579">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.systemmsgsizemax!" href="#PosixChannels.systemmsgsizemax!"><code>PosixChannels.systemmsgsizemax!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">systemmsgsizemax!(val)</code></pre><p>Set the system&#39;s max size of messages in a message queue.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Root privileges are likely needed.</p></div></div><p>See also <a href="#PosixChannels.systemmsgsizemax"><code>systemmsgsizemax</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L581-L590">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.systemqueuesmax" href="#PosixChannels.systemqueuesmax"><code>PosixChannels.systemqueuesmax</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">systemqueuesmax()</code></pre><p>Return the system&#39;s max number of message queue.</p><p>See also <a href="#PosixChannels.systemqueuesmax!"><code>systemqueuesmax!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L592-L598">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.systemqueuesmax!" href="#PosixChannels.systemqueuesmax!"><code>PosixChannels.systemqueuesmax!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">systemqueuesmax!(val)</code></pre><p>Set the system&#39;s max number of message queue.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Root privileges are likely needed.</p></div></div><p>See also <a href="#PosixChannels.systemqueuesmax"><code>systemqueuesmax</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L600-L609">source</a></section></article><h2 id="Internal-API"><a class="docs-heading-anchor" href="#Internal-API">Internal API</a><a id="Internal-API-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.correct_name" href="#PosixChannels.correct_name"><code>PosixChannels.correct_name</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">correct_name(name)</code></pre><p>Prepend the string <code>name</code> with a &quot;/&quot; if it does not start with &quot;/&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L26-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.mq_attr" href="#PosixChannels.mq_attr"><code>PosixChannels.mq_attr</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Mirror of the <code>mq_attr</code> structure used in C to configure a message queue.</p><p>See also <a href="#PosixChannels.open_posix_mqueue"><code>open_posix_mqueue</code></a>, <a href="#PosixChannels.getattr_posix_mqueue"><code>getattr_posix_mqueue</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L64-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.open_posix_mqueue" href="#PosixChannels.open_posix_mqueue"><code>PosixChannels.open_posix_mqueue</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">open_posix_mqueue(name, flags[, perm, attr])</code></pre><p>Call the C function <code>mq_open</code> with the given name and flags. Checks for errors using <a href="https://docs.julialang.org/en/v1/base/c/#Base.systemerror"><code>Base.systemerror</code></a>. <code>name</code> is corrected using <a href="#PosixChannels.correct_name"><code>correct_name</code></a>.</p><p>When <code>O_CREAT</code> flag is on, <code>perm</code> and <code>attr</code> are required.</p><p>See <a href="https://man7.org/linux/man-pages/man3/mq_open.3.html"><code>man 3 mq_open</code></a> for details.</p><p>See also <a href="#PosixChannels.close_posix_mqueue"><code>close_posix_mqueue</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L86-L97">source</a></section><section><div><pre><code class="language-julia hljs">open_posix_mqueue(name; kwargs...)</code></pre><p>Call <code>mq_open</code> by explicitely constructing the various flags beforehand.</p><p><strong>Arguments</strong></p><p>See <a href="https://man7.org/linux/man-pages/man3/mq_open.3.html"><code>man 3 mq_open</code></a> for details.</p><p><strong>All usages</strong></p><ul><li><code>mode::Symbol=:rw</code>: the opening mode of the POSIX queue, can be <code>:r</code>, <code>:w</code>, or <code>:rw</code>.</li><li><code>cloexec::Bool=false</code>: Activate the <code>O_CLOEXEC</code> flag.</li><li><code>create::Bool=true</code>: Activate the <code>O_CREAT</code> flag.</li><li><code>excl::Bool=false</code>: Activate the <code>O_CREAT</code> flag.</li><li><code>nonblock::Bool=false</code>: Activate the <code>O_NONBLOCK</code> flag.</li></ul><p><strong>Creation specifics</strong></p><p>When creating a new queue (flag <code>O_CREAT</code> activated), it is necessary to provide additional informations. </p><ul><li><p><code>create_r_user::Bool=true</code>: Make queue readable for user.</p></li><li><p><code>create_w_user::Bool=true</code>: Make queue writable for user.</p></li><li><p><code>create_r_group::Bool=true</code>: Make queue readable for the group of the user.</p></li><li><p><code>create_w_group::Bool=true</code>: Make queue writable for the group of the user.</p></li><li><p><code>create_r_other::Bool=false</code>: Make queue readable for other users.</p></li><li><p><code>create_w_other::Bool=false</code>: Make queue writable for other users.</p></li><li><p><code>create_len::Int=systemmsgdefault()</code>: Maximum number of messages in the queue.</p></li><li><p><code>create_msg_size::Int=systemmsgsizedefault()</code>: Maximum size of a message.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L110-L117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.close_posix_mqueue" href="#PosixChannels.close_posix_mqueue"><code>PosixChannels.close_posix_mqueue</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">close_posix_mqueue(key)</code></pre><p>Call the C function <code>mq_close</code> with the given key. Checks for errors using <a href="https://docs.julialang.org/en/v1/base/c/#Base.systemerror"><code>Base.systemerror</code></a>.</p><p>See <a href="https://man7.org/linux/man-pages/man3/mq_close.3.html"><code>man 3 mq_close</code></a> for details.</p><p>See also <a href="#PosixChannels.open_posix_mqueue"><code>open_posix_mqueue</code></a>, <a href="#PosixChannels.unlink_posix_mqueue"><code>unlink_posix_mqueue</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L167-L175">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.unlink_posix_mqueue" href="#PosixChannels.unlink_posix_mqueue"><code>PosixChannels.unlink_posix_mqueue</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">unlink_posix_mqueue(name)</code></pre><p>Call the C function <code>mq_close</code> with the given name. Checks for errors using <a href="https://docs.julialang.org/en/v1/base/c/#Base.systemerror"><code>Base.systemerror</code></a>.</p><p>See <a href="https://man7.org/linux/man-pages/man3/mq_unlink.3.html"><code>man 3 mq_unlink</code></a> for details.</p><p>See also <a href="#PosixChannels.open_posix_mqueue"><code>open_posix_mqueue</code></a>, <a href="#PosixChannels.close_posix_mqueue"><code>close_posix_mqueue</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L182-L190">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.send_posix_mqueue" href="#PosixChannels.send_posix_mqueue"><code>PosixChannels.send_posix_mqueue</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">send_posix_mqueue(key, val, prio=0)

Call the C function `mq_send` with the given key, value, and priority. Checks for errors using [`Base.systemerror`](https://docs.julialang.org/en/v1/base/c/#Base.systemerror).</code></pre><p>See <a href="https://man7.org/linux/man-pages/man3/mq_send.3.html"><code>man 3 mq_send</code></a> for details.</p><p>See also <a href="#PosixChannels.open_posix_mqueue"><code>open_posix_mqueue</code></a>, <a href="#PosixChannels.close_posix_mqueue"><code>close_posix_mqueue</code></a>, <a href="#PosixChannels.receive_posix_mqueue"><code>receive_posix_mqueue</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L197-L205">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.receive_posix_mqueue" href="#PosixChannels.receive_posix_mqueue"><code>PosixChannels.receive_posix_mqueue</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">receive_posix_mqueue(key, type[, prio])</code></pre><p>Call the C function <code>mq_receive</code> with the given key, and priority. Checks for errors using <a href="https://docs.julialang.org/en/v1/base/c/#Base.systemerror"><code>Base.systemerror</code></a>. An element of type <code>type</code> is retreived. If the priority is given, only messages with priority <code>prio</code> are fetched. Else, the oldest message is fetched.</p><p>See <a href="https://man7.org/linux/man-pages/man3/mq_receive.3.html"><code>man 3 mq_receive</code></a> for details.</p><p>See also <a href="#PosixChannels.open_posix_mqueue"><code>open_posix_mqueue</code></a>, <a href="#PosixChannels.close_posix_mqueue"><code>close_posix_mqueue</code></a>, <a href="#PosixChannels.send_posix_mqueue"><code>send_posix_mqueue</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L213-L221">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.getattr_posix_mqueue" href="#PosixChannels.getattr_posix_mqueue"><code>PosixChannels.getattr_posix_mqueue</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getattr_posix_mqueue(key)</code></pre><p>Call the C function <code>mq_getattr</code> with the given key. Checks for errors using <a href="https://docs.julialang.org/en/v1/base/c/#Base.systemerror"><code>Base.systemerror</code></a>.</p><p>See <a href="https://man7.org/linux/man-pages/man3/mq_getattr.3.html"><code>man 3 mq_getattr</code></a> for details.</p><p>See also <a href="#PosixChannels.mq_attr"><code>mq_attr</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L238-L246">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.sigevent" href="#PosixChannels.sigevent"><code>PosixChannels.sigevent</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Mirror of the <code>sigevent</code> structure used in C to configure signal events. See <code>/usr/include/bits/types/sigevent_t.h</code>.</p><p>See also <a href="#PosixChannels.notify_channel"><code>notify_channel</code></a>, <a href="#PosixChannels.register_notifier_cfunction"><code>register_notifier_cfunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L398-L403">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.notify_channel" href="#PosixChannels.notify_channel"><code>PosixChannels.notify_channel</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">notify_channel(handle)</code></pre><p>Callback for the C function <code>mq_notify</code>. It only <code>@ccall uv_async_send</code> with the handle of the <a href="https://docs.julialang.org/en/v1/base/base/#Base.AsyncCondition"><code>AsyncCondition</code></a> from the channel.</p><p>See <a href="https://docs.julialang.org/en/v1/manual/calling-c-and-fortran-code/#Thread-safety">the manual</a> for an explanation.</p><p>See also <a href="#PosixChannels.register_notifier_cfunction"><code>register_notifier_cfunction</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L417-L425">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosixChannels.register_notifier_cfunction" href="#PosixChannels.register_notifier_cfunction"><code>PosixChannels.register_notifier_cfunction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">register_notifier_cfunction(chan)</code></pre><p>Call the C function <code>mq_notify</code> for the message queue. Checks for errors using <a href="https://docs.julialang.org/en/v1/base/c/#Base.systemerror"><code>Base.systemerror</code></a>. </p><p><code>mq_notify</code> is called with the <code>SIGEV_THREAD</code> flag and configured to call <a href="#PosixChannels.notify_channel"><code>notify_channel</code></a> with the channel&#39;s condition handle as a parameter. This is done so the OS will start a thread that will unlock the condition when a new message is posted to the empty queue. This function is used by <code>wait</code> before it starts waiting for the channel&#39;s condition.</p><p>See <a href="https://man7.org/linux/man-pages/man3/mq_notify.3.html"><code>man 3 mq_notify</code></a> for details.</p><p>See also <a href="#PosixChannels.notify_channel"><code>notify_channel</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Klafyvel/PosixChannels.jl/blob/e0319ecb43833acf11a6caa97f3c2e16a0ab5f13/src/PosixChannels.jl#L432-L443">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Saturday 30 December 2023 22:37">Saturday 30 December 2023</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
